{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../contexts/AuthContext';\nimport apiClient from '../api/apiClient';\n\n// Named export (and default) so imports like `import { useAuth }` work.\nexport const useAuth = () => {\n  _s();\n  return useContext(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst AuthProvider = ({\n  children\n}) => {\n  _s2();\n  const {\n    setUser,\n    setIsAuthenticated\n  } = useContext(AuthContext);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const response = await apiClient.get('/auth/check');\n        setUser(response.data.user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        setUser(null);\n        setIsAuthenticated(false);\n      } finally {\n        setLoading(false);\n      }\n    };\n    checkAuth();\n  }, [setUser, setIsAuthenticated]);\n  const login = async credentials => {\n    const response = await apiClient.post('/auth/login', credentials);\n    setUser(response.data.user);\n    setIsAuthenticated(true);\n  };\n  const logout = async () => {\n    await apiClient.post('/auth/logout');\n    setUser(null);\n    setIsAuthenticated(false);\n  };\n  return {\n    loading,\n    login,\n    logout\n  };\n};\n_s2(AuthProvider, \"aN60ebwtSmU+wEM02gh8zZcEUgQ=\");\n_c = AuthProvider;\nexport default AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["useState","useEffect","useContext","AuthContext","apiClient","useAuth","_s","AuthProvider","children","_s2","setUser","setIsAuthenticated","loading","setLoading","checkAuth","response","get","data","user","error","login","credentials","post","logout","_c","$RefreshReg$"],"sources":["C:/Users/preet/Train4Teach/teacher-training-platform/client/src/hooks/useAuth.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../contexts/AuthContext';\nimport apiClient from '../api/apiClient';\n\n// Named export (and default) so imports like `import { useAuth }` work.\nexport const useAuth = () => useContext(AuthContext);\n\nconst AuthProvider = ({ children }) => {\n    const { setUser, setIsAuthenticated } = useContext(AuthContext);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const checkAuth = async () => {\n            try {\n                const response = await apiClient.get('/auth/check');\n                setUser(response.data.user);\n                setIsAuthenticated(true);\n            } catch (error) {\n                setUser(null);\n                setIsAuthenticated(false);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        checkAuth();\n    }, [setUser, setIsAuthenticated]);\n\n    const login = async (credentials) => {\n        const response = await apiClient.post('/auth/login', credentials);\n        setUser(response.data.user);\n        setIsAuthenticated(true);\n    };\n\n    const logout = async () => {\n        await apiClient.post('/auth/logout');\n        setUser(null);\n        setIsAuthenticated(false);\n    };\n\n    return { loading, login, logout };\n};\n\nexport default AuthProvider;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAOC,SAAS,MAAM,kBAAkB;;AAExC;AACA,OAAO,MAAMC,OAAO,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMJ,UAAU,CAACC,WAAW,CAAC;AAAA;AAACG,EAAA,CAAxCD,OAAO;AAEpB,MAAME,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EACnC,MAAM;IAAEC,OAAO;IAAEC;EAAmB,CAAC,GAAGT,UAAU,CAACC,WAAW,CAAC;EAC/D,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACZ,MAAMa,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMX,SAAS,CAACY,GAAG,CAAC,aAAa,CAAC;QACnDN,OAAO,CAACK,QAAQ,CAACE,IAAI,CAACC,IAAI,CAAC;QAC3BP,kBAAkB,CAAC,IAAI,CAAC;MAC5B,CAAC,CAAC,OAAOQ,KAAK,EAAE;QACZT,OAAO,CAAC,IAAI,CAAC;QACbC,kBAAkB,CAAC,KAAK,CAAC;MAC7B,CAAC,SAAS;QACNE,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDC,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACJ,OAAO,EAAEC,kBAAkB,CAAC,CAAC;EAEjC,MAAMS,KAAK,GAAG,MAAOC,WAAW,IAAK;IACjC,MAAMN,QAAQ,GAAG,MAAMX,SAAS,CAACkB,IAAI,CAAC,aAAa,EAAED,WAAW,CAAC;IACjEX,OAAO,CAACK,QAAQ,CAACE,IAAI,CAACC,IAAI,CAAC;IAC3BP,kBAAkB,CAAC,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMY,MAAM,GAAG,MAAAA,CAAA,KAAY;IACvB,MAAMnB,SAAS,CAACkB,IAAI,CAAC,cAAc,CAAC;IACpCZ,OAAO,CAAC,IAAI,CAAC;IACbC,kBAAkB,CAAC,KAAK,CAAC;EAC7B,CAAC;EAED,OAAO;IAAEC,OAAO;IAAEQ,KAAK;IAAEG;EAAO,CAAC;AACrC,CAAC;AAACd,GAAA,CAlCIF,YAAY;AAAAiB,EAAA,GAAZjB,YAAY;AAoClB,eAAeA,YAAY;AAAC,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}